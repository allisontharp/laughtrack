<app-headerbar (newItemEvent)="searchBar($event)"></app-headerbar>


<h2 style="margin-left: 20px; margin-top: 25px;">&nbsp;{{movie.title}}</h2>
<br>
<div>
    <div class="jumbotron">
        <div class="card-deck">
            <app-movie-card [movie]="movie" [showTags]="false" class="d-flex align-items-stretch"></app-movie-card>

            <!-- Description -->
            <div class="card border-secondary  mb-3">
                <div class="card-body">
                    {{movie.description}}
                    <hr>
                    <b>Director: </b><a href="/?director={{movie.director}}">{{movie.director}}</a>
                    <br>
                    <b>Writers: </b>
                    <div *ngFor="let w of movie.writer" style="display: inline">
                            <a href="/?writer={{w}}">{{w}}</a>&nbsp;
                        </div>
                    <br>
                    <b>Stars: </b>
                    <div *ngFor="let s of movie.stars" style="display: inline">
                        <a href="/?stars={{s}}">{{s}}</a>&nbsp;
                    </div>
                    <br><b>Runtime:</b>&nbsp;{{movie.runtime}}
                    <br><b>Release Date:</b>&nbsp;{{movie.releaseDate}}
                    <!-- <br><b>Genres:</b> {{movie.genres}} -->
                    <br>
                    <b>Genres: </b>
                    <div *ngFor="let g of movie.genres" style="display: inline">
                        <a href="/?genres={{g}}">{{g}}</a>&nbsp;
                    </div>
                    <br><a href="https://en.wikipedia.org/wiki/{{wikipediaURL}}"><i class="fab fa-wikipedia-w"></i></a>
                    &nbsp;<a href="https://www.imdb.com/title/tt{{movie.id}}"><i class="fab fa-imdb"></i></a>
                    <hr>
                    <h4><b>Box Office</b></h4>
                    <b>Budget:</b> {{movie.budget}}
                    <br><b>Opening Weekend USA:</b> {{movie.openingWeekendUSA}}
                    <hr>
                    <div>
                        <h4 style="display: inline;"><b>Tags</b></h4>
                        &nbsp;
                        <div class="badge badge-pill badge-secondary" (click)="addTag()">
                            <i class="fas fa-plus"></i>
                        </div>
                        &nbsp;
                        <div style="display: inline;" *ngIf="showTag;">
                            <div *ngFor="let t of uniqueTags"style="display: inline-block; padding: 3px">
                                <div class="list-group-item" (click)="addTag(t)">{{t}}</div>
                            </div>
                            <div class="form-group" style="max-width: 50%;">
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" [(ngModel)]="tagName">
                                    <div class="input-group-append">
                                        <button class="input-group-text" (click)="addTag()">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-deck" style="margin-left: 3px; margin-top: 1rem">
                        <div *ngFor="let tag of movie.tags" style="display: inline-block; padding: 3px">
                            <div class="list-group-item" (click)=removeTag(tag)>{{tag}}</div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Logger -->
            <div class="card border-secondary mb-3">
                <app-logger-card [movie]="movie"></app-logger-card>
            </div>
        </div>
    </div>
</div>